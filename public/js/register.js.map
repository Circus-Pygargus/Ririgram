{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/register.js"],"names":["registerFormDiv","document","querySelector","usernameInput","emailInput","passwordInput","passwordBisInput","usernameErrorSpan","emailErrorSpan","passwordErrorSpan","passwordBisErrorSpan","inputsAndSpans","usernameQuestionMark","passwordQuestionMark","passwordBisQuestionMark","usernameHelp","passwordHelp","passwordBisHelp","helpers","errorFlag","i","group","addEventListener","classList","remove","innerHTML","length","checkInputValue","event","preventDefault","alert","console","log","regEx","errorMessage","value","test","displayError","add"],"mappings":"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","file":"register.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/register.js\");\n","\r\n/* ######################\r\n    Need some css\r\n#######################*/\r\n// require('../sass/user-forms.scss');\r\n\r\n/* ######################\r\n    Variables\r\n#######################*/\r\n\r\n// the form\r\nvar registerFormDiv = document.querySelector('#log-in_form');\r\n\r\n// the inputs\r\nvar usernameInput = document.querySelector('#username');\r\nvar emailInput = document.querySelector('#email');\r\nvar passwordInput = document.querySelector('#password');\r\nvar passwordBisInput = document.querySelector('#password-bis');\r\n\r\n// the spans to display errors\r\nvar usernameErrorSpan = document.querySelector('label[for=\"username\"] span.msg-error');\r\nvar emailErrorSpan = document.querySelector('label[for=\"email\"] span.msg-error');\r\nvar passwordErrorSpan = document.querySelector('label[for=\"password\"] span.msg-error');\r\nvar passwordBisErrorSpan = document.querySelector('label[for=\"password-bis\"] span.msg-error');\r\n\r\n// array including inputs and error spans\r\nvar inputsAndSpans = [\r\n    ['username', usernameInput, usernameErrorSpan],\r\n    ['email', emailInput, emailErrorSpan],\r\n    ['password', passwordInput, passwordErrorSpan],\r\n    ['password-bis', passwordBisInput, passwordBisErrorSpan]\r\n];\r\n\r\n// the clickable question marks to display input rule helps\r\nvar usernameQuestionMark = document.querySelector('#username-help');\r\nvar passwordQuestionMark = document.querySelector('#password-help');\r\nvar passwordBisQuestionMark = document.querySelector('#password-bis-help');\r\n\r\n// the text to display when a question mark is clicked\r\nvar usernameHelp = 'Le pseudonyme doit comporter entre 3 et 20 caractères.\\nIl peut être composé de :\\nmajuscules\\nminuscules\\nchiffres\\ncaractères spéciaux parmis cette liste : à â ç é è ê ë î ï ô ù û ÿ.\\nLes caractères suivants - _ et espace peuvent être utilisés mais ne peuvent débuter ou finir le pseudo ni être mis cote-à-cote.';\r\nvar passwordHelp = 'Le mot de passe doit comporter entre 8 et 20 caractères.\\nIl doit être composé d\\'au moins :\\n1 majuscule\\n1 minuscule\\n1 chiffre\\n1 caractère spécial.';\r\nvar passwordBisHelp = 'Ce deuxième mot de passe doit être identique au premier.';\r\n\r\n// array including question marks and text to display\r\nvar helpers = [\r\n    [usernameQuestionMark, usernameHelp],\r\n    [passwordQuestionMark, passwordHelp],\r\n    [passwordBisQuestionMark, passwordBisHelp]\r\n];\r\n\r\n// a boolean to know if there are errors in form to prevent submiting\r\nvar errorFlag = false;\r\n\r\n\r\n/* ######################\r\n    Event listeners\r\n#######################*/\r\n\r\n// focus event on inputs\r\nfor (let i = 0; i < inputsAndSpans.length; i++) {\r\n    let group = inputsAndSpans[i];\r\n    /* group[0] is the input id\r\n       group[1] is the input\r\n       group[2] is the associated error span */\r\n    group[1].addEventListener('focus', function() {\r\n        // remove any error class or message\r\n        group[1].classList.remove('value-error');\r\n        group[2].innerHTML = '';\r\n    });\r\n}\r\n\r\n\r\n// blur event on inputs\r\nfor (let i = 0; i < inputsAndSpans.length; i++) {\r\n    let group = inputsAndSpans[i];\r\n    /* group[0] is the input id\r\n       group[1] is the input\r\n       group[2] is the associated error span */\r\n    group[1].addEventListener('blur', function() {\r\n        checkInputValue(group);\r\n    });\r\n}\r\n\r\n\r\n// submit event on form\r\nregisterFormDiv.addEventListener('submit', function() {\r\n    errorFlag = false;\r\n    // check each input value\r\n    for (let i = 0; i < inputsAndSpans.length; i++) {\r\n        let group = inputsAndSpans[i];\r\n        checkInputValue(group);\r\n    }\r\n    if (errorFlag) {\r\n        event.preventDefault();\r\n    }\r\n});\r\n\r\n\r\n// click event on a question mark\r\nfor (let i = 0; i < helpers.length; i++) {\r\n    /* helpers[i][0] : the question mark\r\n        helpers[i][1] : the text to display */\r\n    helpers[i][0].addEventListener('click', function() {\r\n        event.preventDefault();\r\n        alert(helpers[i][1]);\r\n    });\r\n}\r\n\r\n\r\n/* ######################\r\n    Functions\r\n#######################*/\r\n\r\n//  check the value of the input\r\nfunction checkInputValue (group) {\r\n    /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n    console.log(group);\r\n    let regEx = '';\r\n    let errorMessage = '';\r\n\r\n    switch (group[0]) {\r\n\r\n        case 'username':\r\n            regEx = /^[a-zA-Z0-9àâçéèêëîïôùûÿ]+(['_\\s\\-]?[a-zA-Z0-9àâçéèêëîïôùûÿ])*$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un pseudonyme.'\r\n            }\r\n            else if (group[1].value.length < 3 || group[1].value.length > 20) {\r\n                errorMessage = 'Le nombre de caractères n\\'est pas correct.';\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Les caractères employés ne correspondent pas à la règle.';\r\n            }\r\n            break;\r\n\r\n        case 'email':\r\n            regEx = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer une adresse email';\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Cette adresse mail ne semble pas valide.';\r\n            }\r\n            break;\r\n\r\n        case 'password' :\r\n            regEx = /^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\\d]){1,})(?=(.*[\\W]){1,})(?!.*\\s).{8,20}$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un mot de passe.'\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Ce mot de passe n\\'est pas valide';\r\n            }\r\n            break;\r\n\r\n        case 'password-bis':\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un mot de passe.'\r\n            }\r\n            else if (group[1].value !== passwordInput.value) {\r\n                errorMessage = 'Les deux champs de mot de passe doivent être identiques.';\r\n            }\r\n            break;\r\n\r\n        default :\r\n            console.log('Erreur, cet input est inconnu !!');\r\n    }\r\n\r\n    // check if there were error in the input\r\n    if (errorMessage !== '') {\r\n        errorFlag = true;\r\n        displayError(errorMessage, group);\r\n    }\r\n}\r\n\r\n\r\n// Display the errro message in the good span\r\nfunction displayError (errorMessage, group) {\r\n    /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n    group[2].innerHTML = errorMessage;\r\n    group[1].classList.add('value-error');\r\n}\r\n\r\n\r\n\r\n\r\n/*  TODOs :\r\n\r\n\r\n\r\n    DONEs :\r\n\r\n        _ retirer les messages d'erreur avant le check blur et submit\r\n            -> dans checkInputValue() ?\r\n*/"],"sourceRoot":""}