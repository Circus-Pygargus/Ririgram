{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/js/register.js"],"names":["registerFormDiv","usernameInput","emailInput","passwordInput","passwordBisInput","usernameErrorSpan","emailErrorSpan","passwordErrorSpan","passwordBisErrorSpan","inputsAndSpans","usernameQuestionMark","passwordQuestionMark","passwordBisQuestionMark","helpers","usernameHelp","passwordHelp","passwordBisHelp","errorFlag","registeredDiv","document","querySelector","style","display","getDomVariables","getEventListeners","i","addEventListener","event","preventDefault","alert","length","group","classList","remove","innerHTML","console","log","value","checkInputValue","sendForm","regEx","errorMessage","test","displayError","add","data","username","fetch","method","body","JSON","stringify","headers","then","response","json","reponse","render"],"mappings":"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","file":"register.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./assets/js/register.js\");\n","\r\n/* ######################\r\n    Need some css\r\n#######################*/\r\n// require('../sass/user-forms.scss');\r\n\r\n/* ######################\r\n    Variables\r\n#######################*/\r\n\r\n// the form\r\nvar registerFormDiv;\r\n\r\n// the inputs\r\nvar usernameInput;\r\nvar emailInput;\r\nvar passwordInput;\r\nvar passwordBisInput;\r\n\r\n// the spans to display errors\r\nvar usernameErrorSpan;\r\nvar emailErrorSpan;\r\nvar passwordErrorSpan;\r\nvar passwordBisErrorSpan;\r\n\r\n// array including inputs and error spans\r\nvar inputsAndSpans = [];\r\n\r\n// the clickable question marks to display input rule helps\r\nvar usernameQuestionMark;\r\nvar passwordQuestionMark;\r\nvar passwordBisQuestionMark;\r\n\r\n// array including question marks and text to display\r\nvar helpers = [];\r\n\r\n\r\n\r\n// the text to display when a question mark is clicked\r\nvar usernameHelp = 'Le pseudonyme doit comporter entre 3 et 20 caractères.\\nIl peut être composé de :\\nmajuscules\\nminuscules\\nchiffres\\ncaractères spéciaux parmis cette liste : à â ç é è ê ë î ï ô ù û ÿ.\\nLes caractères suivants - _ et espace peuvent être utilisés mais ne peuvent débuter ou finir le pseudo ni être mis cote-à-cote.';\r\nvar passwordHelp = 'Le mot de passe doit comporter entre 8 et 20 caractères.\\nIl doit être composé d\\'au moins :\\n1 majuscule\\n1 minuscule\\n1 chiffre\\n1 caractère spécial.';\r\nvar passwordBisHelp = 'Ce deuxième mot de passe doit être identique au premier.';\r\n\r\n\r\n// a boolean to know if there are errors in form to prevent submiting\r\nvar errorFlag = false;\r\n\r\n// the div that appear once successfully registered\r\nvar registeredDiv = document.querySelector('#registered');\r\nregisteredDiv.style.display = 'none';\r\n\r\n\r\n\r\n\r\n// need to find DOM variables\r\n// I have found this method because the render from controller if errors in form makes that nothing is recognized anymore\r\ngetDomVariables();\r\ngetEventListeners();\r\n\r\n\r\n\r\n/* ######################\r\n    Event listeners\r\n#######################*/\r\n\r\nfunction getEventListeners () {\r\n    // click event on a question mark\r\n    for (let i = 0; i < helpers.length; i++) {\r\n        /* helpers[i][0] : the question mark\r\n            helpers[i][1] : the text to display */\r\n        helpers[i][0].addEventListener('click', function() {\r\n            // preventDefault because it is associated with the label and give focus to the associated input\r\n            event.preventDefault();\r\n            alert(helpers[i][1]);\r\n        });\r\n    }\r\n\r\n\r\n    // focus event on inputs\r\n    for (let i = 0; i < inputsAndSpans.length; i++) {\r\n        let group = inputsAndSpans[i];\r\n        /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n        group[1].addEventListener('focus', function() {\r\n            // remove any error class or message\r\n            group[1].classList.remove('value-error');\r\n            group[2].innerHTML = '';\r\n        });\r\n    }\r\n\r\n\r\n    // blur event on inputs\r\n    for (let i = 0; i < inputsAndSpans.length; i++) {\r\n        let group = inputsAndSpans[i];\r\n        /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n        group[1].addEventListener('blur', function() {\r\n            console.log(group[1].value);\r\n            checkInputValue(group);\r\n        });\r\n    }\r\n\r\n\r\n    // submit event on form\r\n    registerFormDiv.addEventListener('submit', function() {\r\n        event.preventDefault();\r\n        errorFlag = false;\r\n        // check each input value\r\n        for (let i = 0; i < inputsAndSpans.length; i++) {\r\n            let group = inputsAndSpans[i];\r\n            // checkInputValue(group);\r\n        }\r\n        // there were at least one error in form\r\n        if (errorFlag) {\r\n            console.log('il faut corriger les erreurs dans le formulaire avant envoi !');\r\n        }\r\n        // it's ok we can send the form\r\n        else {\r\n            sendForm();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n/* ######################\r\n    Functions\r\n#######################*/\r\n\r\n// get DOM variables\r\n    function getDomVariables () {\r\n        \r\n    // the form\r\n    registerFormDiv = document.querySelector('#log-in_form');\r\n\r\n    // the inputs\r\n    usernameInput = document.querySelector('#username');\r\n    emailInput = document.querySelector('#email');\r\n    passwordInput = document.querySelector('#password');\r\n    passwordBisInput = document.querySelector('#password-bis');\r\n\r\n    // the spans to display errors\r\n    usernameErrorSpan = document.querySelector('label[for=\"username\"] span.msg-error');\r\n    emailErrorSpan = document.querySelector('label[for=\"email\"] span.msg-error');\r\n    passwordErrorSpan = document.querySelector('label[for=\"password\"] span.msg-error');\r\n    passwordBisErrorSpan = document.querySelector('label[for=\"password-bis\"] span.msg-error');\r\n\r\n    // array including inputs and error spans\r\n    inputsAndSpans = [\r\n        ['username', usernameInput, usernameErrorSpan],\r\n        ['email', emailInput, emailErrorSpan],\r\n        ['password', passwordInput, passwordErrorSpan],\r\n        ['password-bis', passwordBisInput, passwordBisErrorSpan]\r\n    ];\r\n\r\n    // the clickable question marks to display input rule helps\r\n    usernameQuestionMark = document.querySelector('#username-help');\r\n    passwordQuestionMark = document.querySelector('#password-help');\r\n    passwordBisQuestionMark = document.querySelector('#password-bis-help');\r\n\r\n    // array including question marks and text to display\r\n    helpers = [\r\n        [usernameQuestionMark, usernameHelp],\r\n        [passwordQuestionMark, passwordHelp],\r\n        [passwordBisQuestionMark, passwordBisHelp]\r\n    ];\r\n}\r\n\r\n//  check the value of the input\r\nfunction checkInputValue (group) {\r\n    /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n    console.log(group);\r\n    let regEx = '';\r\n    let errorMessage = '';\r\n\r\n    switch (group[0]) {\r\n\r\n        case 'username':\r\n            regEx = /^[a-zA-Z0-9àâçéèêëîïôùûÿ]+(['_\\s\\-]?[a-zA-Z0-9àâçéèêëîïôùûÿ])*$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un pseudonyme.'\r\n            }\r\n            else if (group[1].value.length < 3 || group[1].value.length > 20) {\r\n                errorMessage = 'Le nombre de caractères n\\'est pas correct.';\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Les caractères employés ne correspondent pas à la règle.';\r\n            }\r\n            break;\r\n\r\n        case 'email':\r\n            regEx = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer une adresse email';\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Cette adresse mail ne semble pas valide.';\r\n            }\r\n            break;\r\n\r\n        case 'password' :\r\n            regEx = /^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\\d]){1,})(?=(.*[\\W]){1,})(?!.*\\s).{8,20}$/;\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un mot de passe.'\r\n            }\r\n            else if (!regEx.test(group[1].value)) {\r\n                errorMessage = 'Ce mot de passe n\\'est pas valide';\r\n            }\r\n            break;\r\n\r\n        case 'password-bis':\r\n            if (group[1].value === '') {\r\n                errorMessage = 'Il faut entrer un mot de passe.'\r\n            }\r\n            else if (group[1].value !== passwordInput.value) {\r\n                errorMessage = 'Les deux champs de mot de passe doivent être identiques.';\r\n            }\r\n            break;\r\n\r\n        default :\r\n            console.log('Erreur, cet input est inconnu !!');\r\n    }\r\n\r\n    // check if there were error in the input\r\n    if (errorMessage !== '') {\r\n        errorFlag = true;\r\n        displayError(errorMessage, group);\r\n    }\r\n}\r\n\r\n\r\n// Display the errro message in the good span\r\nfunction displayError (errorMessage, group) {\r\n    /* group[0] is the input id\r\n        group[1] is the input\r\n        group[2] is the associated error span */\r\n    group[2].innerHTML = errorMessage;\r\n    group[1].classList.add('value-error');\r\n}\r\n\r\n\r\n// Send form content to the server\r\nfunction sendForm () {\r\n    let data = {};\r\n    data = {\r\n        'username': usernameInput.value,\r\n        'email': emailInput.value,\r\n        'password': passwordInput.value,\r\n        'passwordBis': passwordBisInput.value\r\n    };\r\n    console.log(data.username);\r\n\r\n    fetch('/register/json', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n            \"Content-Type\": \"Application/json\"\r\n        }\r\n    })\r\n    .then( function(response) {\r\n        return response.json();\r\n    })\r\n    .then( function(response) {\r\n        if (response.reponse === 'ok') {\r\n            console.log('fetch return, everything is fine !');\r\n            registerFormDiv.style.display = 'none';\r\n            registeredDiv.style.display = 'block';\r\n        }\r\n        else if (response.reponse === 'not ok'){\r\n            registerFormDiv.innerHTML = response.render;\r\n            getDomVariables();\r\n            getEventListeners();\r\n        }\r\n        else {\r\n            console.log(response);\r\n        }\r\n    });\r\n}"],"sourceRoot":""}